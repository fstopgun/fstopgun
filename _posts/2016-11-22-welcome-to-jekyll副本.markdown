---
layout: post
title:  "卡牌游戏的 deck 多样性收敛问题"
date:   2016-11-24 12:00:01
categories: jekyll update
---
最近全程围观了万智牌世界杯。作为一个几乎完全退休的万智牌牌手，我最初打万智牌的目的是消磨时光。消磨时光是种天赋，而我似乎天赋异禀。当然，我的打牌水平很差，这个就不细讨论了。

在今年的万智牌世界杯上，发现 modern 赛制的套牌多样性现在已经非常差。共鸣（Affinity）、侵染（UG Infect）、红烧（Boros/Naya Burn）和奥扎奇（Bant Eldrazi）是目前公认的 T1 deck。除此之外，出现了大量具有高爆发力或者 OTK 能力的 T2 甚至准 T1 deck。无怪乎大家普遍说：现在的 modern 赛制就是快攻赛制，三回合赢（确定胜势）是一个重要的衡量标准。

不过今天我这篇文章讨论的不是如何打万智牌，或者如何构筑强力 deck 的问题。而是 deck 多样性收敛的讨论。这些讨论以定性分析为主。

## 单卡价值讨论

仅从单卡上考虑，联想到万智牌的设计特点，一张单卡在构筑型赛事中的**可用性/作战价值**同**设计出现概率**联立起来，大概像是一个双曲正切的样子：



可用性/作战价值越强的卡牌，在牌池中的占有率越低（其可用性/作战价值的相对衡量尺度也会发生变化）。这个曲线随着牌池卡张总数的变化，其形态也会发生变化（越来越陡峭）。


附带说一句，可用性/作战价值的相对衡量尺度问题，大概和正态分布是相似的。牌池越大，sigma 越小。


——所以，万智牌世界里，大量的银铁都是论斤当废纸出售的……

## 牌池的规则

因为 deck 的 Size 是相对固定的，Card Duplicate 也受到限制，所以，牌池的大小，毫无疑问是决定 deck 多样性收敛特性的一个重要因素。

此外，考虑到法术力颜色系统的存在，虽然从采样结果的高值到低值次序排列后择优录取，然而第一次择优过后会存在大量的法术力颜色不相容问题，形成全局禁闭区间，之后所有不相容的采样将被滤除。为了方便分析，将所有不同的法术力选择形成的状态空间均一化处理。

当牌池较小时，相当于双曲正切曲线的低频采样，反之就是高频采样。执行低频采样后的最佳组合设计过程，依照其总体的相对**可用性/作战价值**进行截止式划分，其多样性差（远不如高频采样结果）。相反，如果执行高频采样后的最佳组合设计过程，多样性好（多于低频采样结果）。

收敛稳定后得到的 deck 组，彼此之间的**可用性/作战价值**差距，显而易见的是，高频采样的差异较小（源于高频采样+相对**可用性/作战价值**截止式划分带来的低方差），而低频采样的结果，彼此之间差异大。

## 收敛速度

在牌池内容保持不变的情况下，显然牌池小的情况下，其牌张组合状态空间小，deck 多样性收敛速度快；牌池大，则牌张组合状态空间也大，deck 多样性收敛速度慢。这是一种均一化讨论，尽可能忽视个体差异的结果。

我之前没有解释相对**可用性/作战价值**进行截止式划分的规则。这里解释一下：*按照牌张组合状态空间得到的结果，取可用性/作战价值排序中位于前列的某个百分比。*

## 牌池更迭策略对结果的影响

仅以万智牌作为研究对象

## 联立分析

静态稳态

长期动态稳态

采样曲线漂移

额外奇点

## 附加章节：Oracle 勘误

## 附加章节：万智牌套牌构筑思路与相对强度分析

## 附加章节：稀有度与牌价




